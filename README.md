TimeSeer: Прогнозирование и анализ временных рядов
TimeSeer - это веб-приложение для анализа и прогнозирования временных рядов с использованием статистических методов и машинного обучения. Проект позволяет пользователям загружать данные в формате CSV, выполнять прогнозирование, обнаружение аномалий, кластеризацию, а также визуализировать результаты и генерировать UML-диаграммы для понимания структуры системы.
Проект разработан в рамках ВКР (выпускной квалификационной работы) и демонстрирует применение современных методов анализа данных в промышленности, на примере компании ФосАгро.

Возможности

Прогнозирование временных рядов: Использует модели SARIMA, Prophet и Holt-Winters для создания прогнозов.
Обнаружение аномалий: Применяет Isolation Forest для выявления аномалий в данных.
Кластеризация: Использует KMeans для группировки данных.
Визуализация: Генерирует графики прогнозов и метрик.
UML-диаграммы: Создаёт диаграммы для визуализации структуры отделов компании.

Установка

Клонируйте репозиторий:
git clone https://github.com/inikis3/VKR.git
cd VKR


Создайте виртуальное окружение и установите зависимости:
python -m venv venv
source venv/bin/activate  # Для Windows: venv\Scripts\activate
pip install -r requirements.txt


Установите PlantUML:

Скачайте plantuml.jar с официального сайта.
Поместите файл в корневую папку проекта (например, plantuml-1.2025.2.jar).


Запустите приложение:
python app.py

Приложение будет доступно по адресу http://127.0.0.1:5000.


Использование

Откройте приложение в браузере по адресу http://127.0.0.1:5000.
Загрузите CSV-файл с данными (ожидаемые столбцы: date, emissions, costs, productivity).
Выберите:
Столбец для анализа (например, emissions).
Модель прогнозирования (SARIMA, Prophet, Holt-Winters или все).
Горизонт прогнозирования (например, 24 месяца).


Нажмите "Predict" и просмотрите результаты:
График прогноза.
Метрики (MAE, RMSE, MAPE).
UML-диаграмму структуры отделов компании.


Структура проекта
Описание файлов

ai_module.py Содержит функции для прогнозирования, обнаружения аномалий и кластеризации:

arima_forecast(): Прогнозирование с помощью SARIMA.
prophet_forecast(): Прогнозирование с помощью Prophet.
holt_winters_forecast(): Прогнозирование с помощью Holt-Winters.
detect_anomalies(): Обнаружение аномалий с помощью Isolation Forest.
cluster_data(): Кластеризация данных с помощью KMeans.


app.py Основной файл Flask-приложения. Отвечает за маршруты и взаимодействие с пользователем:

/: Главная страница для загрузки данных и параметров.
/predict: Обработка данных и отображение результатов.
/test_template: Тестовый маршрут для отладки шаблонов.
/check_static: Проверка доступности статических файлов.


data_processing.py Отвечает за загрузку и предобработку данных:

load_data(): Загружает данные из CSV-файла.
preprocess_data(): Преобразует данные для анализа (например, преобразование столбца date в формат datetime).


main.py Точка входа для запуска приложения. Вызывает app.run() для старта Flask-сервера. Используется как альтернативный способ запуска вместо прямого вызова app.py.

uml_module.py Генерирует UML-диаграммы и графики прогнозов:

update_forecast_plot(): Создаёт график прогноза и сохраняет его в Static/forecast_plot.png.
update_uml_diagram(): Генерирует UML-диаграмму структуры отделов компании с помощью PlantUML и сохраняет её в Static/uml_diagram.png.


visualization.py Отвечает за создание визуализаций и таблиц:

plot_forecast(): Генерирует график прогноза (используется uml_module.py для финального сохранения).
create_metrics_table(): Формирует таблицу с метриками (MAE, RMSE, MAPE) для отображения в интерфейсе.



Зависимости
Список зависимостей указан в requirements.txt. Основные библиотеки:

flask: Для создания веб-приложения.
pandas: Для обработки данных.
numpy: Для числовых вычислений.
matplotlib: Для визуализации.
statsmodels: Для модели SARIMA.
prophet: Для модели Prophet.
scikit-learn: Для Isolation Forest и KMeans.


UML-диаграмма
Проект включает вертикальную UML-диаграмму, показывающую структуру отделов компании (на примере ФосАгро). Диаграмма автоматически генерируется и доступна в интерфейсе приложения.

Лицензия
Проект распространяется под лицензией MIT. Подробности см. в файле LICENSE.
